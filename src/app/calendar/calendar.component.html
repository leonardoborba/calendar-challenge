<div class="toolbar">
    <p>{{currentDate | date:'MMMM y'}}</p>
    <div class="buttons">
        <button (click)="openEvent()">New Event</button>
    </div>
</div>

<div class="content">
    <div class="calendar-header" *ngFor="let weekDay of weekDays">
        <p>{{weekDay}}</p>
    </div>
    <div class="calendar-day" *ngFor="let day of daysOfMonth"
        [class.out-of-month]="day.getMonth() !== currentDate.getMonth()"
        [class.weekend]="day.getDay() === 0 || day.getDay() === 6">
        <p class="day">{{day.getDate()}}</p>
        <div class="calendar-events">
            <div class="event" *ngFor="let event of getEvents(day); let i = index"
                [ngClass]="'event-color-' + (event.color || 'default')"
                (click)="openEvent(event)">
                <p class="title" *ngIf="i < 3">{{event.title}}</p>
            </div>
        </div>
        <p class="events-overflow" *ngIf="getEvents(day).length > 3">{{getEvents(day).length - 3}} more</p>
    </div>
</div>
